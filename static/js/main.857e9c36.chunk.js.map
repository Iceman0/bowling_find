{"version":3,"sources":["img/persik.png","utils/sendCLick.js","panels/Components/FindFields.js","panels/Home.js","panels/Persik.js","App.js","index.js"],"names":["module","exports","btnSendClick","name","setFindResult","setColumns","setLoading","myValue","SPREADSHEET_ID","auth","CLIENT_EMAIL","SHEET_ID","client_email","PRIVATE_KEY","private_key","doc","GoogleSpreadsheet","row","a","useServiceAccountAuth","loadInfo","sheet","sheetsById","getRows","result","console","error","appendSpreadsheet","Name","then","value","columns","length","_sheet","headerValues","dataSource","map","item","Object","assign","i","id","key","filter","find","undefined","toLowerCase","indexOf","parseInt","title","dataIndex","render","text","Link","href","link","match","replace","target","catch","FindFields","inputValue","setInputValue","selectValue","setSelectValue","top","Select","placeholder","onChange","e","type","bufColumns","Home","fetchedUser","go","useState","setName","findResult","isLoading","useEffect","btnFindClick","before","photo_200","src","description","city","first_name","last_name","className","size","onClick","Spinner","scroll","x","osName","platform","Persik","props","left","data-to","IOS","persik","alt","App","activePanel","setActivePanel","setUser","popout","setPopout","bridge","send","user","subscribe","detail","data","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","fetchData","currentTarget","dataset","to","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.857e9c36.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/persik.4e1ec840.png\";","import React from 'react'\r\nimport { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport auth from './auth.json';\r\nimport Link from \"@vkontakte/vkui/dist/es6/components/Link/Link\";\r\n\r\nfunction makeIntoLink(link) {\r\n    if (link.match(/^[a-zA-Z0-9]+(.com)/)) {\r\n        link.replace(link, \"<a href=\\\"http://www.\" + link+ \"\\\">\" + link + \"<\\/a>\");\r\n    }\r\n    return link;\r\n}\r\n\r\nexport const btnSendClick = (name, setFindResult, setColumns, setLoading, myValue) => {\r\n\r\n// Config variables\r\n    const SPREADSHEET_ID = auth.SPREADSHEET_ID;\r\n    const SHEET_ID = auth.SHEET_ID;\r\n    const CLIENT_EMAIL = auth.client_email;\r\n    const PRIVATE_KEY = auth.private_key;\r\n\r\n    const doc = new GoogleSpreadsheet(SPREADSHEET_ID);\r\n\r\n    const appendSpreadsheet = async (row) => {\r\n        try {\r\n            await doc.useServiceAccountAuth({\r\n                client_email: CLIENT_EMAIL,\r\n                private_key: PRIVATE_KEY,\r\n            })\r\n            // loads document properties and worksheets\r\n            await doc.loadInfo();\r\n\r\n            const sheet = doc.sheetsById[\"443542541\"];\r\n            const result = await sheet.getRows();\r\n            return(result);\r\n        } catch (e) {\r\n            setLoading(false);\r\n            console.error('Error: ', e);\r\n            return([]);\r\n        }\r\n    };\r\n\r\n    const newRow = { Name: name};\r\n\r\n\r\n    appendSpreadsheet(newRow)\r\n        .then((value) => {\r\n            let columns = (value.length) ? value[0]._sheet.headerValues : [];\r\n            let dataSource = value.map(item => {\r\n                let result = Object.assign({}, item);\r\n                for(let i in result) {\r\n                    if (i[0] === '_') delete result[i];\r\n                }\r\n                if (result.id) result.key = result.id;\r\n                return result;\r\n            }).filter(item => {\r\n                if (!name) {\r\n                    return item;\r\n                }\r\n                let find = false;\r\n                if (myValue === undefined) {\r\n                    for (let i in item) {\r\n                        if (typeof item[i] === 'string' && item[i].toLowerCase().indexOf(name) > -1) {\r\n                            find = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (name)\r\n                        switch (name) {\r\n                            case 'lines_max':\r\n                                if (item['lines']) {\r\n                                    if (parseInt(myValue) >= parseInt(item['lines'])) {\r\n                                        find = true;\r\n                                    }\r\n                                }\r\n                                break;\r\n                            case 'lines_min':\r\n                                if (item['lines']) {\r\n                                    if (parseInt(myValue) <= parseInt(item['lines'])) {\r\n                                        find = true;\r\n                                    }\r\n                                }\r\n                                break;\r\n                            case 'price2':\r\n                                if (item[name]) {\r\n                                    if (parseInt(myValue) >= parseInt(item['price2'])) {\r\n                                        find = true;\r\n                                    }\r\n                                }\r\n                                break;\r\n                            case 'price1':\r\n                                if (item[name]) {\r\n                                    if (parseInt(myValue) <= parseInt(item['price1'])) {\r\n                                        find = true;\r\n                                    }\r\n                                }\r\n                                break;\r\n                            default:\r\n                                if (item[name]) {\r\n                                    if (item[name].toLowerCase().indexOf(myValue) > -1) {\r\n                                        find = true;\r\n                                    }\r\n                                }\r\n                                break;\r\n                        }\r\n                }\r\n                if (find) {\r\n                    return item;\r\n                }\r\n            });\r\n            for(let i = 0; i<columns.length; i++) {\r\n                if (columns[i] === 'link_vk') { debugger;\r\n                    columns[i] = {\r\n                        title: columns[i],\r\n                        dataIndex: columns[i],\r\n                        key: columns[i],\r\n                        render: text => <Link href={makeIntoLink(text)} target=\"_blank\">{text}</Link>,\r\n                    }\r\n                } else columns[i] = {\r\n                    title: columns[i],\r\n                    dataIndex: columns[i],\r\n                    key: columns[i]\r\n                }\r\n            }\r\n            setLoading(false);\r\n            setColumns(columns);\r\n            setFindResult(dataSource);\r\n        })\r\n        .catch((error) => {\r\n            setLoading(false);\r\n            console.error(error)\r\n        });\r\n    //alert(JSON.stringify({name: name, surname: surname, team: team, count: count}));\r\n};\r\n","import React, {useState, useEffect} from 'react';\r\nimport {FormLayout, FormLayoutGroup, Input, Snackbar, Icon24Favorite} from '@vkontakte/vkui/';\r\nimport Select from \"@vkontakte/vkui/dist/es6/components/Select/Select\";\r\n\r\nconst FindFields = ({ inputValue, setInputValue, selectValue, setSelectValue }) => {\r\n\r\n    return (\r\n        <FormLayoutGroup top=\"Поиск по полю\">\r\n            <Select placeholder=\"Выберите поле для поиска\" value={selectValue} onChange={e => {\r\n                setSelectValue(e.target.value);\r\n                setInputValue('');\r\n            }} >\r\n                <option value=\"name\">Название</option>\r\n                <option value=\"metro\">Метро</option>\r\n                <option value=\"price2\">Максимальная цена</option>\r\n                <option value=\"price1\">Минимальная цена</option>\r\n                <option value=\"lines_min\">Минимальное кол-во дорожек</option>\r\n                <option value=\"lines_max\">Максимальное кол-во дорожек</option>\r\n            </Select>\r\n            {(selectValue) ? <Input type=\"text\" value={inputValue} placeholder=\"Введите необходимые слова\" onChange={e => setInputValue(e.target.value)}/> : ''}\r\n        </FormLayoutGroup>\r\n    );\r\n};\r\n\r\nexport default FindFields;","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport {FormLayout, FormLayoutGroup, Input, Snackbar, Icon24Favorite} from '@vkontakte/vkui/';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport Spinner from \"@vkontakte/vkui/dist/es6/components/Spinner/Spinner\";\nimport bridge from '@vkontakte/vk-bridge';\nimport {btnSendClick} from './../utils/sendCLick'\nimport {Row, Col, Table} from 'antd'\nimport 'antd/dist/antd.css';\nimport './Home.css';\nimport FindFields from \"./Components/FindFields\";\n\nconst bufColumns = [\n    {\n        title: 'Name',\n        dataIndex: 'name',\n        key: 'name',\n    },\n    {\n        title: 'Age',\n        dataIndex: 'age',\n        key: 'age',\n    },\n    {\n        title: 'Address',\n        dataIndex: 'address',\n        key: 'address',\n    },\n];\n\nconst Home = ({ id, go, fetchedUser }) => {\n\n    // const [count, setCount] = useState(0);\n    const [name, setName] = useState(\"\");\n    const [findResult, setFindResult] =  useState([]);\n    const [columns, setColumns] =  useState(bufColumns);\n    const [isLoading, setLoading] = useState(false);\n    const [inputValue, setInputValue] = useState(\"\");\n    const [selectValue, setSelectValue] =  useState(\"\");\n\n    useEffect(() => {\n        setLoading(true);\n        btnSendClick(name.toLowerCase(), setFindResult, setColumns, setLoading);\n    }, []);\n\n    const btnFindClick = (name, value) => {\n        setLoading(true);\n        btnSendClick(name.toLowerCase(), setFindResult, setColumns, setLoading, value);\n    };\n\n    return (<Panel id={id}>\n            <PanelHeader>Введите свой результат</PanelHeader>\n            {fetchedUser &&\n            <Group title=\"User Data Fetched with VK Bridge\">\n                <Cell\n                    before={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n                    description={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n                >\n                    {`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n                </Cell>\n            </Group>}\n\n            <Group title=\"Navigation Example\">\n                <Div>\n                    <FormLayout className=\"bowl-Form\">\n                        <FormLayoutGroup top=\"Поиск\">\n                            <Input type=\"text\" value={name} placeholder=\"Введите необходимые слова\" onChange={e => setName(e.target.value)}/>\n                        </FormLayoutGroup>\n                        <FindFields inputValue={inputValue} setInputValue={setInputValue} selectValue={selectValue} setSelectValue={setSelectValue}/>\n                        <Button size=\"xl\" onClick={() => {\n                            if (inputValue && selectValue !== '') btnFindClick(selectValue, inputValue); else btnFindClick(name);\n                        }}>Найти</Button>\n                    </FormLayout>\n                    {(findResult && findResult.length > 0) ? (isLoading) ?\n                        <div>\n                            <Spinner size=\"large\" className='table-spinner' />\n                            <Table dataSource={findResult} columns={columns} scroll={{ x: 1500 }} />\n                        </div>:\n                       <Table dataSource={findResult} columns={columns} scroll={{ x: 1500 }} /> :\n                        (isLoading) ? <Spinner size=\"large\" className='table-spinner-short' /> : ''}\n                </Div>\n            </Group>\n        </Panel>\n    );\n};\n\nHome.propTypes = {\n    id: PropTypes.string.isRequired,\n    go: PropTypes.func.isRequired,\n    fetchedUser: PropTypes.shape({\n        photo_200: PropTypes.string,\n        first_name: PropTypes.string,\n        last_name: PropTypes.string,\n        city: PropTypes.shape({\n            title: PropTypes.string,\n        }),\n    }),\n};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport persik from '../img/persik.png';\nimport './Persik.css';\n\nconst osName = platform();\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t\t</PanelHeaderButton>}\n\t\t>\n\t\t\tPersik\n\t\t</PanelHeader>\n\t\t<img className=\"Persik\" src={persik} alt=\"Persik The Cat\"/>\n\t</Panel>\n);\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Persik;\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\n\nconst App = () => {\n    const [activePanel, setActivePanel] = useState('home');\n    const [fetchedUser, setUser] = useState(null);\n    const [popout, setPopout] = useState(null);\n\n    useEffect(() => {\n        bridge.subscribe(({ detail: { type, data }}) => {\n            if (type === 'VKWebAppUpdateConfig') {\n                const schemeAttribute = document.createAttribute('scheme');\n                schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n                document.body.attributes.setNamedItem(schemeAttribute);\n            }\n        });\n        async function fetchData() {\n            const user = await bridge.send('VKWebAppGetUserInfo');\n            setUser(user);\n            setPopout(null);\n        }\n        fetchData();\n    }, []);\n\n    const go = e => {\n        setActivePanel(e.currentTarget.dataset.to);\n    };\n\n    return (\n        <View activePanel={activePanel} popout={popout}>\n            <Home id='home' fetchedUser={fetchedUser} go={go} />\n            <Persik id='persik' go={go} />\n        </View>\n    );\n}\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}